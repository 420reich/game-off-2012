/*! FightCode - v0.1.0
* http://fightcodega.me/
*/
var elements;elements=$(".top10 li"),elements.on("hover",function(e){return elements.removeClass("open"),$(this).addClass("open")});var FightArena;FightArena=function(){function e(e,t){this.container=e,this.robots=t,this.defaultCode="var Robot = function(){\n};\nRobot.prototype.onIdle = function(ev) {\n   var robot = ev.robot;\n   \n   robot.rotateCannon(180);\n   robot.ahead(100);\n   robot.turn(45);\n};\nRobot.prototype.onScannedRobot = function(ev) {\n   var robot = ev.robot,\n       scannedRobot = ev.scannedRobot;\n\n   if (robot.id == scannedRobot.parentId || robot.parentId == scannedRobot.id) {\n       return;\n   }\n   robot.fire();\n};\nRobot.prototype.onHitByBullet = function(ev) {\n   var robot = ev.robot;\n   \n   if (robot.availableClones > 0) {\n       robot.clone();\n   }\n};",this.rotateCode="var Robot = function(robot){\n  # robot.turn(-robot.angle)\n  # robot.turnGunRight(360)\n  # robot.ahead(200)\n  # robot.turn(90)\n  # robot.ahead(200)\n  # robot.turn(90)\n  # robot.ahead(200)\n  # robot.turn(90)\n  # robot.ahead(200)\n};\nRobot.prototype.onIdle = function(ev) {\n   var robot = ev.robot;\n   # robot.turn(1);\n   # robot.fire();\n   # robot.ahead(1)\n   robot.turnGunRight(360)\n};\nRobot.prototype.onWallCollision = function(ev) {\n};\nRobot.prototype.onScannedRobot = function(ev) {\n  ev.robot.fire()\n};\nRobot.prototype.onHitByBullet = function(ev) {\n};",this.wallCode="var Robot = function(robot) {\n  this.moveAmount = Math.max(robot.arenaWidth, robot.arenaHeight);\n\n  robot.turnLeft(robot.angle % 90);\n  robot.turnGunRight(90);\n};\nRobot.prototype.onIdle = function(ev) {\n  var robot = ev.robot;\n  # robot.back(1);\n};\nRobot.prototype.onWallCollision = function(ev) {\n  var robot = ev.robot;\n  robot.turnRight(90);\n};\nRobot.prototype.onHitByBullet = function(ev) {\n  global.log(ev.bearing)\n};\nRobot.prototype.onRobotCollision = function(ev) {\n  var robot = ev.robot;\n  global.log(ev.bearing)\n  if (ev.bearing > -90 && ev.bearing < 90) {\n    robot.back(100);\n  } else {\n    robot.ahead(100);\n  }\n};\nRobot.prototype.onScannedRobot = function(ev) {\n   var robot = ev.robot;\n   robot.fire();\n};",this.startWorker()}return e.prototype.startWorker=function(){var e,t;return t=new Worker("/output/fightcode.worker.min.js"),t.onmessage=this.receiveWorkerEvent,e={robots:2,robot1:this.robots[0],robot2:this.robots[1]},t.postMessage(e)},e.prototype.receiveWorkerEvent=function(e){var t,n,r,i;r=e.data,r.type==="log"&&console.log("LOG",r.message);if(r.type==="results")return t=container.find(".board"),t.empty(),n=$("<div></div>"),t.append(n),i=container.find(".loading"),i.addClass("animate"),setTimeout(function(){var e;return i.detach(),e=new Game(n,r,{msPerRound:5,onEndGame:function(e){return console.log(e)}}),e.initialize()},700)},e}(),function(){var e=$(".menu-container"),t=$(".ribbon-container"),n=e.find(".ribbon");n.on("click",function(t){t.preventDefault(),e.toggleClass("open")}),n.on("hover",function(){t.trigger("hover")})}(),function(){var e,t;return e=location.pathname,t=$(".menu-container"),t.find(".checked").removeClass("checked"),t.find("a[href='"+e+"'], a[data-navbar-href='"+e+"']").addClass("checked")}();var UserChart,__bind=function(e,t){return function(){return e.apply(t,arguments)}};$(function(){return $(".dial").knob()}),UserChart=function(){function e(e,t,n,r,i,s){this.element=e,this.data=t,this.width=n,this.height=r,this.bgcolor=i,this.colors=s!=null?s:["#ed0027"],this.draw=__bind(this.draw,this),google.load("visualization","1",{packages:["corechart"]}),google.setOnLoadCallback(this.draw)}return e.prototype.draw=function(){var e,t;return e=google.visualization.arrayToDataTable(this.data),t={curveType:"function",width:this.width,height:this.height,lineWidth:7,enableInteractivity:!1,chartArea:{left:0,top:0,width:"100%",height:"100%"},backgroundColor:this.bgcolor,colors:this.colors,fontSize:0,vAxis:{baselineColor:this.bgcolor,gridlines:{color:this.bgcolor},textStyle:{color:this.bgcolor}},hAxis:{baselineColor:this.bgcolor,gridlines:{color:this.bgcolor},textStyle:{color:this.bgcolor}}},(new google.visualization.LineChart(this.element)).draw(e,t)},e}(),$(".user-chart").each(function(){var e,t;return t=$(this).attr("data-chart-values"),t=t.replace(/[']/gi,'"'),t=t.replace(/^\s*/gi,"").replace(/\s*$/gi,""),e=JSON.parse(t),new UserChart(this,e,252,103,"#f7f7f7")});