/*! FightCode - v0.1.0
* http://fightcodega.me/
*/
var Ranking,container,ranking;container=$(".ranking-container"),Ranking=function(){function e(e){this.container=e,this.bindEvents()}return e.prototype.bindEvents=function(){var e;return e=this.container.find(".actions a"),e.bind("click",function(e){var t,n;return t=$(e.currentTarget),n=t.attr("data-robot-id"),window.location="/heynemann/robots/MYROBOT/fight/"+n})},e}(),container.length>0&&(ranking=new Ranking(container));var FightArena,arena,container;container=$(".fight-arena"),FightArena=function(){function e(e){this.container=e,this.defaultCode=["//FightCode can only understand your robot","//if its class is called robotClass","window.robotClass = function(){","};","window.robotClass.prototype.onIdle = function(ev) {","   var robot = ev.robot;","   robot.ahead(100);","   robot.rotateCannon(360);","   robot.back(100);","   robot.rotateCannon(360);","};","window.robotClass.prototype.onScannedRobot = function(ev) {","   var robot = ev.robot;","   robot.fire();","};"].join("\n"),this.startWorker()}return e.prototype.startWorker=function(){var e,t;return t=new Worker("/output/fightcode.worker.min.js"),t.onmessage=this.receiveWorkerEvent,e={robots:2,robot1:this.defaultCode,robot2:this.defaultCode},t.postMessage(e)},e.prototype.receiveWorkerEvent=function(e){var t,n,r,i;r=e.data,r.type==="log"&&console.log("LOG",r.message);if(r.type==="results")return t=container.find(".board"),t.empty(),n=$("<div></div>"),t.append(n),i=container.find(".loading"),i.addClass("animate"),setTimeout(function(){var e;return i.detach(),e=new Game(n,r.result,{msPerRound:3}),e.initialize()},700)},e}(),container.length>0&&(arena=new FightArena(container));