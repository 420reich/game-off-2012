/*! FightCode - v0.1.0
* http://fightcodega.me/
*/
var Ranking,container,ranking;container=$(".ranking-container"),Ranking=function(){function e(e){this.container=e,this.bindEvents()}return e.prototype.bindEvents=function(){var e;return e=this.container.find(".actions a"),e.bind("click",function(e){var t,n;return t=$(e.currentTarget),n=t.attr("data-robot-id"),window.location="/heynemann/robots/MYROBOT/fight/"+n})},e}(),container.length>0&&(ranking=new Ranking(container));var FightArena,arena,container;container=$(".fight-arena"),FightArena=function(){function e(e){this.container=e,this.defaultCode="            window.robotClass = function(){            };            window.robotClass.prototype.onIdle = function(ev) {               var robot = ev.robot;                              robot.rotateCannon(360);            };            window.robotClass.prototype.onScannedRobot = function(ev) {               var robot = ev.robot;               robot.fire();            };            window.robotClass.prototype.onHitByBullet = function(ev) {               var robot = ev.robot;               window.log('hitting');                                          };",this.wallCode="            window.rotated = false;            window.robotClass = function(){            };            window.robotClass.prototype.onIdle = function(ev) {               var robot = ev.robot;               robot.ahead(1);               if (!window.rotated) {                   robot.rotateCannon(90);                   window.rotated = true;               }            };            window.robotClass.prototype.onWallCollision = function(ev) {               var robot = ev.robot;               robot.back(10);               robot.turn(90);            };            window.robotClass.prototype.onScannedRobot = function(ev) {               var robot = ev.robot;               robot.fire();            };",this.startWorker()}return e.prototype.startWorker=function(){var e,t;return t=new Worker("/output/fightcode.worker.min.js"),t.onmessage=this.receiveWorkerEvent,e={robots:2,robot1:this.defaultCode,robot2:this.defaultCode},t.postMessage(e)},e.prototype.receiveWorkerEvent=function(e){var t,n,r,i;r=e.data,r.type==="log"&&console.log("LOG",r.message);if(r.type==="results")return t=container.find(".board"),t.empty(),n=$("<div></div>"),t.append(n),i=container.find(".loading"),i.addClass("animate"),setTimeout(function(){var e;return i.detach(),e=new Game(n,r.result,{msPerRound:5}),e.initialize()},700)},e}(),container.length>0&&(arena=new FightArena(container)),function(){var e,t;return e=location.pathname,t=$(".navbar"),t.find("li.active").removeClass("active"),t.find("a[href='"+e+"']").closest("li").addClass("active")}();